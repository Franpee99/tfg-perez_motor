# Pérez Motor

## Descripción general del proyecto
El proyecto consiste en el desarrollo de una tienda online especializada en la venta de prendas de vestimenta para motoristas, incluyendo cascos, chaquetas, pantalones, guantes, botas... Además de la venta de productos, la plataforma ofrecerá un sistema de gestión de citas para el taller, permitiendo a los usuarios reservar online servicios de mantenimiento y reparación para sus motos.

## Objetivos generales

### Objetivo: Agilizar la venta de los equipamientos.
**Casos de uso:**
- Explorar el catálogo
- Añadir productos al carrito
- Realizar pagos
- Gestionar envíos

### Objetivo: Mejorar el servicio de taller.
**Casos de uso:**
- Seleccionar servicio
- Elegir fecha y hora
- Confirmar cita

### Objetivo: Administrar el stock de productos en la tienda.
**Casos de uso:**
- Controlar existencias
- Actualizar inventario
- Generar alertas de stock bajo

### Objetivo: Garantizar la seguridad de las transacciones realizadas en la plataforma.
**Casos de uso:**
- Implementar métodos de pago seguros


# Requisitos

| Requisito | Prioridad | Tipo | Complejidad | Entrega |
|-----------|-----------|------|-------------|---------|
| (R1) Requisitos como | Mínimo | Técnico | Fácil | v1 |
| (R2) Código fuente | Mínimo | Técnico | Fácil | v1 |
| (R3) Estilo del código | Mínimo | Técnico | Fácil | v1 |
| (R4) Tres | Mínimo | Técnico | Fácil | v1 |
| (R5) README.md | Mínimo | Técnico | Fácil | v1 |
| (R6) Documentación | Mínimo | Técnico | Fácil | v1 |
| (R7) Incidencias | Mínimo | Técnico | Fácil | v1 |
| (R8) Etiquetas e hitos | Mínimo | Técnico | Fácil | v1 |
| (R9) Rama master | Mínimo | Técnico | Fácil | v1 |
| (R10) Gestión del código | Mínimo | Técnico | Fácil | v1 |
| (R11) Final de cada iteración | Mínimo | Técnico | Fácil | v1 |
| (R12) Validación de formularios | Mínimo | Técnico | Fácil | v1 |
| (R13) Gestión de ventanas | Mínimo | Técnico | Fácil | v1 |
| (R14) Manejo de eventos | Mínimo | Técnico | Fácil | v1 |
| (R15) DOM | Mínimo | Técnico | Fácil | v1 |
| (R16) Incidencias | Mínimo | Técnico | Fácil | v1 |
| (R17) Utilización de AJAX | Mínimo | Técnico | Fácil | v1 |
| (R18) Plugin | Mínimo | Técnico | Fácil | v1 |
| (R19) ECMAScript2015 (ES6) | Mínimo | Técnico | Fácil | v1 |
| (R20) Framework | Mínimo | Técnico | Fácil | v1 |
| (R21) PHP | Mínimo | Técnico | Fácil | v1 |
| (R22) Laravel | Mínimo | Técnico | Fácil | v1 |
| (R23) PostgreSQL | Mínimo | Técnico | Fácil | v1 |
| (R24) Cloud computing | Mínimo | Técnico | Fácil | v1 |
| (R25) Pruebas funcionales | Mínimo | Técnico | Fácil | v1 |
| (R26) Aplicación escalable | Mínimo | Técnico | Fácil | v1 |
| (R27) Etiquetas semánticas de HTML5 | Mínimo | Técnico | Fácil | v1 |
| (R28) Presentación mediante CSS | Mínimo | Técnico | Fácil | v1 |
| (R29) Diseño flexible | Mínimo | Técnico | Fácil | v1 |
| (R30) Animaciones, transiciones y contenido multimedia | Mínimo | Técnico | Fácil | v1 |
| (R31) Uso de microdatos | Mínimo | Técnico | Fácil | v1 |
| (R32) Validación HTML5, CSS3 y accesibilidad | Mínimo | Técnico | Fácil | v1 |
| (R33) Diseño responsivo | Mínimo | Técnico | Fácil | v1 |
| (R34) Compatibilidad con varios navegadores | Mínimo | Técnico | Fácil | v1 |
| (R35) Despliegue en un Host | Mínimo | Técnico | Fácil | v1 |
| (R36) Despliegue en servidor local | Importante | Funcional | Fácil | v1 |
| (R37) Registro e inicio de sesión | Importante | Funcional | Fácil | v1 |
| (R38) Modificar usuario | Importante | Funcional | Fácil | v1 |
| (R39) Eliminar usuario | Importante | Funcional | Fácil | v1 |
| (R40) Cerrar sesión | Importante | Funcional | Fácil | v1 |
| (R41) Crear productos (Panel de administración) | Importante | Funcional | Medio | v2 |
| (R42) Editar productos (Panel de administración) | Importante | Funcional | Medio | v2 |
| (R43) Eliminar productos (Panel de administración) | Importante | Funcional | Medio | v2 |
| (R44) Catálogo de productos | Importante | Funcional | Medio | v2 |
| (R45) Paginación de productos | Importante | Funcional | Medio | v2 |
| (R46) Detalle de productos | Importante | Funcional | Medio | v2 |
| (R47) Carrito de compras | Importante | Funcional | Medio | v2 |
| (R48) Sistema de favoritos | Importante | Funcional | Medio | v2 |
| (R49) Búsqueda y filtrado de productos | Importante | Funcional | Medio | v2 |
| (R50) Página de Quiénes Somos | Importante | Funcional | Fácil | v2 |
| (R51) Formulario de contacto | Importante | Funcional | Fácil | v2 |
| (R52) Métodos de pago seguros | Importante | Funcional | Medio | v2 |
| (R53) Gestión de stock | Importante | Funcional | Fácil | v2 |
| (R54) Envíos y tracking | Importante | Funcional | Medio | v3 |
| (R55) Sistema de notificaciones | Importante | Funcional | Medio | v3 |
| (R56) Panel de administración avanzado | Importante | Funcional | Difícil | v3 |
| (R57) Reportes y estadísticas de ventas | Importante | Funcional | Difícil | v3 |
| (R58) Soporte multi-idioma | Opcional | Funcional | Medio | v3 |
| (R59) Soporte multi-moneda | Opcional | Funcional | Medio | v3 |
| (R60) Blog y contenido interactivo | Opcional | Funcional | Medio | v3 |
| (R61) Autenticación de usuarios (OAuth, 2FA) | Importante | Funcional | Medio | v3 |
| (R62) Integración con API de envío | Importante | Funcional | Difícil | v3 |
| (R63) Historial de pedidos del usuario | Importante | Funcional | Medio | v3 |
| (R64) Valoraciones y comentarios de productos | Importante | Funcional | Medio | v3 |
| (R65) Carga de imágenes de productos | Importante | Funcional | Fácil | v3 |
| (R66) Optimización para móviles | Importante | Funcional | Fácil | v3 |
| (R67) Accesibilidad mejorada | Importante | Funcional | Difícil | v3 |

---

# Instalación del Proyecto Pérez Motor

## Requisitos Previos

### Para instalar PHP
1. Instalar las dependencias necesarias:

    - `sudo apt install -y software-properties-common apt-transport-https ca-certificates lsb-release`

2. Agregar el repositorio de PHP:

    - `sudo add-apt-repository ppa:ondrej/php`
    - `sudo apt update`

3. Instalar PHP:

    - `sudo apt install -y php`
    - `sudo apt install -y php-{bcmath,bz2,intl,gd,mbstring,mysql,zip,xml,curl}`

4. Verificar la instalación de PHP:

    - `php -v`

### Para instalar Composer
1. Descargar e instalar Composer:

    - `php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"`
    - `php -r "echo hash_file('sha384', 'composer-setup.php') . PHP_EOL;"`
    - `sudo php composer-setup.php --install-dir=/usr/local/bin --filename=composer`

2. Verificar la instalación de Composer:

    - `composer -V`

### Para instalar npm
1. Instalar `curl`:

    - `sudo apt install curl -y`

2. Configurar y agregar el repositorio de Node.js:

    - `curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -`
    - `sudo apt install nodejs -y`

3. Verificar la instalación de Node.js y npm:

    - `curl --version`
    - `node -v`
    - `npm -v`

### Para instalar Git
1. Instalar Git:

    - `sudo apt update`
    - `sudo apt install git -y`

2. Clonar el repositorio del proyecto:

    - `git clone https://github.com/Franpee99/tfg-perez_motor.git`

### Para instalar PostgreSQL
1. Agregar el repositorio de PostgreSQL:

    - `sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'`
    - `wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -`

2. Instalar PostgreSQL:

    - `sudo apt update`
    - `sudo apt install -y postgresql`

3. Verificar la instalación de PostgreSQL:

    - `psql --version`

4. Crear un usuario y base de datos para el proyecto:

    - `sudo -u postgres psql`
    - `CREATE USER perez_motor WITH PASSWORD 'password_seguro';`
    - `CREATE DATABASE perez_motor;`
    - `ALTER DATABASE perez_motor OWNER TO perez_motor;`
    - `GRANT ALL PRIVILEGES ON DATABASE perez_motor TO perez_motor;`
    - `\q`

## Entrar en el Proyecto

1. Navegar al directorio del proyecto:

    - `cd /tfg-perez_motor`

2. Añadir archivo `.env` (solicitarlo por correo a franciscojose.perez@iesdonana.org).

## Instalación Final

1. Instalar las dependencias de Composer:

    - `composer install`
    - `composer dump-autoload`

2. Instalar la extensión de PHP para PostgreSQL:

    - `sudo apt install php-pgsql -y`

3. Verificar que la extensión `pdo_pgsql` esté habilitada:

    - `php -m | grep pdo_pgsql`

4. Reiniciar el sistema:

    - `sudo reboot`

5. Navegar nuevamente al directorio del proyecto:

    - `cd /tfg-perez_motor`

6. Ejecutar las migraciones de la base de datos:

    - `php artisan migrate`

7. Crear el enlace simbólico para almacenamiento:

    - `php artisan storage:link`

8. Instalar las dependencias de npm:

    - `npm install`

9. Limpiar y actualizar el sistema:

    - `sudo apt update && sudo apt autoclean && sudo apt autoremove -y`

10. Corregir posibles problemas con dependencias rotas:

    - `sudo apt --fix-broken install`

11. (Opcional) Si es necesario, configurar de nuevo Node.js:

    - `curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -`
    - `sudo apt install -y nodejs`
    - `npm -v`
    - `node -v`

12. Instalar dependencias de npm:

    - `npm install`

13. Cargar los datos iniciales (solo para usuarios y servicios):

    - `php artisan db:seed`

14. Compilar los assets de frontend:

    - `npm run dev`

15. Iniciar el servidor de desarrollo:

    - `php artisan serve`

    El servidor estará disponible en la URL proporcionada.

## Cuenta de Administrador

- **Usuario**: admin@admin.com
- **Contraseña**: admin

---

#License
The Laravel framework is open-sourced software licensed under the MIT license.
